{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{AppBar,Toolbar,Typography,Container,Card,CardContent,CardActions,Button,LinearProgress,Alert,Grid,Box,IconButton,Avatar,Paper}from'@mui/material';import CloudUploadIcon from'@mui/icons-material/CloudUpload';import DownloadIcon from'@mui/icons-material/Download';import ImageIcon from'@mui/icons-material/Image';import HistoryIcon from'@mui/icons-material/History';import DeleteIcon from'@mui/icons-material/Delete';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedFile,setSelectedFile]=useState(null);const[preview,setPreview]=useState(null);const[colorizedUrl,setColorizedUrl]=useState(null);const[history,setHistory]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const API_URL=process.env.REACT_APP_API_URL;// Handle file selection or drop\nconst handleFileChange=e=>{const file=e.target.files[0];setSelectedFile(file);setColorizedUrl(null);setError(null);if(file){setPreview(URL.createObjectURL(file));}else{setPreview(null);}};const handleDrop=e=>{e.preventDefault();const file=e.dataTransfer.files[0];setSelectedFile(file);setColorizedUrl(null);setError(null);if(file){setPreview(URL.createObjectURL(file));}else{setPreview(null);}};const handleDragOver=e=>{e.preventDefault();};// Handle file upload\nconst handleUpload=async e=>{e.preventDefault();if(!selectedFile)return;setLoading(true);setError(null);try{const formData=new FormData();formData.append('file',selectedFile);const res=await axios.post(\"\".concat(API_URL,\"/upload\"),formData,{headers:{'Content-Type':'multipart/form-data'}});const colorizedFilename=res.data.colorized_filename;setColorizedUrl(\"\".concat(API_URL,\"/download/\").concat(colorizedFilename,\"?type=colorized\"));fetchHistory();}catch(err){setError('Upload failed.');}setLoading(false);};// Add this function to handle deleting an upload\nconst handleDelete=async saved_filename=>{try{await axios.delete(\"\".concat(API_URL,\"/history/\").concat(saved_filename));fetchHistory();}catch(err){setError('Delete failed.');}};// Fetch upload history\nconst fetchHistory=React.useCallback(async()=>{try{const res=await axios.get(\"\".concat(API_URL,\"/history\"));setHistory(res.data);}catch(err){setHistory([]);}},[API_URL]);React.useEffect(()=>{fetchHistory();},[fetchHistory]);return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1,bgcolor:'#f5f5f5',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",color:\"primary\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(ImageIcon,{sx:{mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Image Colorization App\"})]})}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Card,{sx:{mb:4,p:2},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Upload a Black & White Image\"}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:2,mb:2,textAlign:'center',border:'2px dashed #1976d2',bgcolor:'#e3f2fd',cursor:'pointer'},onDrop:handleDrop,onDragOver:handleDragOver,children:[/*#__PURE__*/_jsx(CloudUploadIcon,{sx:{fontSize:40,color:'#1976d2'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mt:1},children:\"Drag & drop an image here, or click to select\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",style:{display:'none'},id:\"file-upload\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-upload\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:\"span\",sx:{mt:2},children:\"Browse\"})}),preview&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Preview:\"}),/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\",style:{maxWidth:'200px',maxHeight:'200px',borderRadius:8,marginTop:8}})]})]}),loading&&/*#__PURE__*/_jsx(LinearProgress,{sx:{my:2}}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{my:2},children:error}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleUpload,disabled:loading||!selectedFile,startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),size:\"large\",children:\"Upload & Colorize\"})})]})}),colorizedUrl&&/*#__PURE__*/_jsx(Card,{sx:{mb:4,p:2,bgcolor:'#e8f5e9'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Colorized Image\"}),/*#__PURE__*/_jsx(\"img\",{src:colorizedUrl,alt:\"Colorized\",style:{maxWidth:'100%',borderRadius:8,marginBottom:8}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",href:colorizedUrl,download:true,startIcon:/*#__PURE__*/_jsx(DownloadIcon,{}),sx:{mt:2},children:\"Download Colorized Image\"})]})}),/*#__PURE__*/_jsx(Card,{sx:{p:2},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(HistoryIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Upload History\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[history.length===0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No uploads yet.\"})}),history.map((item,idx)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{variant:\"outlined\",sx:{height:'100%'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:1,children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'#1976d2',mr:1},children:/*#__PURE__*/_jsx(ImageIcon,{})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",noWrap:true,children:item.original_filename}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:new Date(item.upload_time).toLocaleString()})]}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",color:\"error\",sx:{ml:'auto'},onClick:()=>handleDelete(item.saved_filename),children:/*#__PURE__*/_jsx(DeleteIcon,{})})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",gap:1,mt:2,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",href:\"\".concat(API_URL,\"/download/\").concat(item.saved_filename,\"?type=upload\"),target:\"_blank\",startIcon:/*#__PURE__*/_jsx(DownloadIcon,{}),size:\"small\",children:\"Original\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",href:\"\".concat(API_URL,\"/download/\").concat(item.colorized_filename,\"?type=colorized\"),target:\"_blank\",startIcon:/*#__PURE__*/_jsx(DownloadIcon,{}),size:\"small\",children:\"Colorized\"})]})]})})},idx))]})]})})]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","AppBar","Toolbar","Typography","Container","Card","CardContent","CardActions","Button","LinearProgress","Alert","Grid","Box","IconButton","Avatar","Paper","CloudUploadIcon","DownloadIcon","ImageIcon","HistoryIcon","DeleteIcon","jsx","_jsx","jsxs","_jsxs","App","selectedFile","setSelectedFile","preview","setPreview","colorizedUrl","setColorizedUrl","history","setHistory","loading","setLoading","error","setError","API_URL","process","env","REACT_APP_API_URL","handleFileChange","e","file","target","files","URL","createObjectURL","handleDrop","preventDefault","dataTransfer","handleDragOver","handleUpload","formData","FormData","append","res","post","concat","headers","colorizedFilename","data","colorized_filename","fetchHistory","err","handleDelete","saved_filename","delete","useCallback","get","useEffect","sx","flexGrow","bgcolor","minHeight","children","position","color","mr","variant","component","maxWidth","mt","mb","p","gutterBottom","elevation","textAlign","border","cursor","onDrop","onDragOver","fontSize","type","accept","style","display","id","onChange","htmlFor","src","alt","maxHeight","borderRadius","marginTop","my","severity","onClick","disabled","startIcon","size","marginBottom","href","download","alignItems","container","spacing","length","item","xs","map","idx","sm","md","height","noWrap","original_filename","Date","upload_time","toLocaleString","ml","gap"],"sources":["/home/sukh/Desktop/Image Colorization Project/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Container,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n  LinearProgress,\n  Alert,\n  Grid,\n  Box,\n  IconButton,\n  Avatar,\n  Paper\n} from '@mui/material';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ImageIcon from '@mui/icons-material/Image';\nimport HistoryIcon from '@mui/icons-material/History';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport './App.css';\n\nfunction App() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const [colorizedUrl, setColorizedUrl] = useState(null);\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const API_URL = process.env.REACT_APP_API_URL;\n\n  // Handle file selection or drop\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    setSelectedFile(file);\n    setColorizedUrl(null);\n    setError(null);\n    if (file) {\n      setPreview(URL.createObjectURL(file));\n    } else {\n      setPreview(null);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    const file = e.dataTransfer.files[0];\n    setSelectedFile(file);\n    setColorizedUrl(null);\n    setError(null);\n    if (file) {\n      setPreview(URL.createObjectURL(file));\n    } else {\n      setPreview(null);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  // Handle file upload\n  const handleUpload = async (e) => {\n    e.preventDefault();\n    if (!selectedFile) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const formData = new FormData();\n      formData.append('file', selectedFile);\n      const res = await axios.post(`${API_URL}/upload`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      });\n      const colorizedFilename = res.data.colorized_filename;\n      setColorizedUrl(`${API_URL}/download/${colorizedFilename}?type=colorized`);\n      fetchHistory();\n    } catch (err) {\n      setError('Upload failed.');\n    }\n    setLoading(false);\n  };\n\n  // Add this function to handle deleting an upload\n  const handleDelete = async (saved_filename) => {\n    try {\n      await axios.delete(`${API_URL}/history/${saved_filename}`);\n      fetchHistory();\n    } catch (err) {\n      setError('Delete failed.');\n    }\n  };\n\n  // Fetch upload history\n  const fetchHistory = React.useCallback(async () => {\n    try {\n      const res = await axios.get(`${API_URL}/history`);\n      setHistory(res.data);\n    } catch (err) {\n      setHistory([]);\n    }\n  }, [API_URL]);\n\n  React.useEffect(() => {\n    fetchHistory();\n  }, [fetchHistory]);\n\n  return (\n    <Box sx={{ flexGrow: 1, bgcolor: '#f5f5f5', minHeight: '100vh' }}>\n      <AppBar position=\"static\" color=\"primary\">\n        <Toolbar>\n          <ImageIcon sx={{ mr: 2 }} />\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Image Colorization App\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Container maxWidth=\"md\" sx={{ mt: 4 }}>\n        <Card sx={{ mb: 4, p: 2 }}>\n          <CardContent>\n            <Typography variant=\"h5\" gutterBottom>\n              Upload a Black & White Image\n            </Typography>\n            <Paper\n              elevation={3}\n              sx={{\n                p: 2,\n                mb: 2,\n                textAlign: 'center',\n                border: '2px dashed #1976d2',\n                bgcolor: '#e3f2fd',\n                cursor: 'pointer',\n              }}\n              onDrop={handleDrop}\n              onDragOver={handleDragOver}\n            >\n              <CloudUploadIcon sx={{ fontSize: 40, color: '#1976d2' }} />\n              <Typography variant=\"body1\" sx={{ mt: 1 }}>\n                Drag & drop an image here, or click to select\n              </Typography>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: 'none' }}\n                id=\"file-upload\"\n                onChange={handleFileChange}\n              />\n              <label htmlFor=\"file-upload\">\n                <Button variant=\"outlined\" component=\"span\" sx={{ mt: 2 }}>\n                  Browse\n                </Button>\n              </label>\n              {preview && (\n                <Box sx={{ mt: 2 }}>\n                  <Typography variant=\"subtitle2\">Preview:</Typography>\n                  <img\n                    src={preview}\n                    alt=\"Preview\"\n                    style={{ maxWidth: '200px', maxHeight: '200px', borderRadius: 8, marginTop: 8 }}\n                  />\n                </Box>\n              )}\n            </Paper>\n            {loading && <LinearProgress sx={{ my: 2 }} />}\n            {error && <Alert severity=\"error\" sx={{ my: 2 }}>{error}</Alert>}\n            <CardActions>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleUpload}\n                disabled={loading || !selectedFile}\n                startIcon={<CloudUploadIcon />}\n                size=\"large\"\n              >\n                Upload & Colorize\n              </Button>\n            </CardActions>\n          </CardContent>\n        </Card>\n        {colorizedUrl && (\n          <Card sx={{ mb: 4, p: 2, bgcolor: '#e8f5e9' }}>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                Colorized Image\n              </Typography>\n              <img\n                src={colorizedUrl}\n                alt=\"Colorized\"\n                style={{ maxWidth: '100%', borderRadius: 8, marginBottom: 8 }}\n              />\n              <Button\n                variant=\"contained\"\n                color=\"success\"\n                href={colorizedUrl}\n                download\n                startIcon={<DownloadIcon />}\n                sx={{ mt: 2 }}\n              >\n                Download Colorized Image\n              </Button>\n            </CardContent>\n          </Card>\n        )}\n        <Card sx={{ p: 2 }}>\n          <CardContent>\n            <Box display=\"flex\" alignItems=\"center\" mb={2}>\n              <HistoryIcon sx={{ mr: 1 }} />\n              <Typography variant=\"h6\">Upload History</Typography>\n            </Box>\n            <Grid container spacing={2}>\n              {history.length === 0 && (\n                <Grid item xs={12}>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    No uploads yet.\n                  </Typography>\n                </Grid>\n              )}\n              {history.map((item, idx) => (\n                <Grid item xs={12} sm={6} md={4} key={idx}>\n                  <Card variant=\"outlined\" sx={{ height: '100%' }}>\n                    <CardContent>\n                      <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                        <Avatar sx={{ bgcolor: '#1976d2', mr: 1 }}>\n                          <ImageIcon />\n                        </Avatar>\n                        <Box>\n                          <Typography variant=\"subtitle2\" noWrap>{item.original_filename}</Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {new Date(item.upload_time).toLocaleString()}\n                          </Typography>\n                        </Box>\n                        <IconButton aria-label=\"delete\" color=\"error\" sx={{ ml: 'auto' }} onClick={() => handleDelete(item.saved_filename)}>\n                          <DeleteIcon />\n                        </IconButton>\n                      </Box>\n                      <Box display=\"flex\" gap={1} mt={2}>\n                        <Button\n                          variant=\"outlined\"\n                          color=\"primary\"\n                          href={`${API_URL}/download/${item.saved_filename}?type=upload`}\n                          target=\"_blank\"\n                          startIcon={<DownloadIcon />}\n                          size=\"small\"\n                        >\n                          Original\n                        </Button>\n                        <Button\n                          variant=\"contained\"\n                          color=\"secondary\"\n                          href={`${API_URL}/download/${item.colorized_filename}?type=colorized`}\n                          target=\"_blank\"\n                          startIcon={<DownloadIcon />}\n                          size=\"small\"\n                        >\n                          Colorized\n                        </Button>\n                      </Box>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              ))}\n            </Grid>\n          </CardContent>\n        </Card>\n      </Container>\n    </Box>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}